<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Explore India - Great India</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/styles.css" />
  <script src="js/auth-helper.js"></script>
  <!-- Leaflet CSS for OpenStreetMap alternative -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" 
        integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A==" 
        crossorigin=""/>
</head>
<body>
  <header class="main-header">
    <nav class="navbar">
      <div class="nav-brand">
        <h1>üáÆüá≥ Great India</h1>
      </div>
      <div class="nav-links">
        <a href="index.html">Home</a>
        <a href="explore.html">Explore</a>
        <a href="learn-about-india.html">Learn About India</a>
        <a href="join-community.html">Join Community</a>
      </div>
    </nav>
  </header>

  <main class="explore-main">
    <section class="search-section">
      <div class="container">
        <h1>Explore Incredible India</h1>
        <div class="search-container">
          <div class="search-input-group">
            <input type="text" id="searchBar" placeholder="Search for tourist places, cities, monuments..." />
            <select id="stateSelector" onchange="filterByState()">
              <option value="">Select State</option>
              <option value="Andhra Pradesh">Andhra Pradesh</option>
              <option value="Arunachal Pradesh">Arunachal Pradesh</option>
              <option value="Assam">Assam</option>
              <option value="Bihar">Bihar</option>
              <option value="Chhattisgarh">Chhattisgarh</option>
              <option value="Delhi">Delhi</option>
              <option value="Goa">Goa</option>
              <option value="Gujarat">Gujarat</option>
              <option value="Haryana">Haryana</option>
              <option value="Himachal Pradesh">Himachal Pradesh</option>
              <option value="Jharkhand">Jharkhand</option>
              <option value="Karnataka">Karnataka</option>
              <option value="Kerala">Kerala</option>
              <option value="Ladakh">Ladakh</option>
              <option value="Madhya Pradesh">Madhya Pradesh</option>
              <option value="Maharashtra">Maharashtra</option>
              <option value="Manipur">Manipur</option>
              <option value="Meghalaya">Meghalaya</option>
              <option value="Mizoram">Mizoram</option>
              <option value="Nagaland">Nagaland</option>
              <option value="Odisha">Odisha</option>
              <option value="Punjab">Punjab</option>
              <option value="Rajasthan">Rajasthan</option>
              <option value="Sikkim">Sikkim</option>
              <option value="Tamil Nadu">Tamil Nadu</option>
              <option value="Telangana">Telangana</option>
              <option value="Tripura">Tripura</option>
              <option value="Uttar Pradesh">Uttar Pradesh</option>
              <option value="Uttarakhand">Uttarakhand</option>
              <option value="West Bengal">West Bengal</option>
            </select>
          </div>
          <button id="searchBtn" onclick="searchPlaces()">üîç Search</button>
          <button id="clearBtn" onclick="clearFilters()" class="clear-btn">Clear</button>
        </div>
        <div class="filter-tabs">
          <button class="filter-btn active" onclick="filterPlaces('all')">All Places</button>
          <button class="filter-btn" onclick="filterPlaces('monuments')">Monuments</button>
          <button class="filter-btn" onclick="filterPlaces('temples')">Temples</button>
          <button class="filter-btn" onclick="filterPlaces('beaches')">Beaches</button>
          <button class="filter-btn" onclick="filterPlaces('mountain')">Mountains</button>
          <button class="filter-btn" onclick="filterPlaces('nature')">Nature</button>
        </div>
      </div>
    </section>

    <section class="places-section">
      <div class="container">
        <h2>Discover Heritage & Culture</h2>
        <div id="places-container" class="places-grid">
          <!-- Places will be loaded here -->
        </div>
        <div id="loading" class="loading hidden">
          <div class="spinner"></div>
          <p>Loading amazing places...</p>
        </div>
      </div>
    </section>

    <section class="map-section">
      <div class="container">
        <h2>Explore on Map</h2>
        <div class="map-toggle-container">
          <button id="toggleMapType" class="map-toggle-btn">üîÑ Switch to OpenStreetMap</button>
        </div>
        <div id="map" class="map-container">
          <div class="loading-fallback">
            <div class="spinner"></div>
            <p>Loading interactive map...</p>
          </div>
        </div>
        <div id="leaflet-map" class="map-container" style="display: none;"></div>
      </div>
    </section>

    <!-- Review Modal -->
    <div id="reviewModal" class="review-modal">
      <div class="review-modal-content">
        <button class="close-modal" onclick="closeReviewModal()">&times;</button>
        <div class="review-modal-header">
          <h2 id="modalPlaceName">Add Your Review</h2>
          <p id="modalPlaceLocation"></p>
        </div>
        
        <!-- Review Form -->
        <form id="reviewForm" class="review-form">
          <div class="form-group">
            <label for="reviewerName">Your Name</label>
            <input type="text" id="reviewerName" required>
          </div>
          
          <div class="form-group">
            <label>Rating</label>
            <div class="star-rating" id="starRating">
              <span class="star" data-rating="1">‚òÖ</span>
              <span class="star" data-rating="2">‚òÖ</span>
              <span class="star" data-rating="3">‚òÖ</span>
              <span class="star" data-rating="4">‚òÖ</span>
              <span class="star" data-rating="5">‚òÖ</span>
            </div>
            <input type="hidden" id="rating" required>
          </div>
          
          <div class="form-group">
            <label for="reviewText">Your Review</label>
            <textarea id="reviewText" placeholder="Share your experience about this place..." required></textarea>
          </div>
          
          <div class="form-group">
            <label for="visitDate">Visit Date</label>
            <input type="date" id="visitDate">
          </div>
          
          <button type="submit" class="submit-review-btn">Submit Review</button>
        </form>
        
        <!-- Reviews Display -->
        <div class="reviews-section">
          <h3>Recent Reviews</h3>
          <div id="reviewsList">
            <div class="no-reviews">No reviews yet. Be the first to review!</div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <footer>
    <div class="container">
      <p>&copy; 2025 Great India. Discover the incredible beauty of India.</p>
    </div>
  </footer>

  <!-- Leaflet JS for OpenStreetMap alternative -->
  <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js" 
          integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA==" 
          crossorigin=""></script>
  
  <!-- Google Maps API -->
  <script async defer 
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBpCEVGRZdKPjSVQD0Wd6yVlqUc9FVsR6o&libraries=places&callback=initMap">
  </script>
  <script src="js/explore.js"></script>
  <script src="js/reviews.js"></script>
</body>
</html>